<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">

<head th:include="fragments/header :: header">
</head>
<body onLoad="checkError()">
<div th:include="fragments/navbar :: navbar"></div>

<main class="container content box">

    <h1 class="title" th:text="'Update of ' + ${project.name} ">  </h1>
    <form method="post" action="#">
        <div class="field">
            <label class="label" for="name"> Navn</label>
            <input type="text" name="name" id="name" class="input" th:value="${project.name}" placeholder= "Enter project name" required>
        </div>
        <div class="field">
            <label class="label" for="description"> Description</label>
            <input type="text" name="description" id="description" class="input" th:value="${project.description}" placeholder= "Enter project description" required>
        </div>
        <div class="field">
          <label class="label" for="deadline"> Deadline</label>
          <input type="date" name="deadline" id="deadline" class="input"required>
      </div>
        <button class="button is-primary">Update</button>
        
    </form>
</main>
<script>
    // https://flaviocopes.com/urlsearchparams/
    // Øverstående er blevet brugt til at få fat på query parametre
    function checkError() {
      const queryParameter = new URLSearchParams(window.location.search)

      if (queryParameter.has("status")) {
        console.log("Update failed");
        alert("Something went wrong. Please try again");
      }
    }


  </script>
</body>
<footer th:include="fragments/footer :: footer">
</footer>
</html>